<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <title>7 Writing plugins that use Resources 1.2</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen, print" title="Style" charset="utf-8"/>
    <link rel="stylesheet" href="../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8"/>
    <script type="text/javascript">
function addJsClass() {
    var classes = document.body.className.split(" ");
    classes.push("js");
    document.body.className = classes.join(" ");
}
    </script>
</head>

<body class="body" onload="addJsClass();">
<div id="navigation">
    <ul>
        <li>
            <div id="nav-summary" onmouseover="toggleNavSummary(false)" onmouseout="toggleNavSummary(true)">
                <a href="../guide/index.html" class="button">Table of contents</a>

                <div id="nav-summary-childs" style="display:none;">
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/1.%20Overview.html"><strong>1</strong><span>Overview</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/2.%20Concepts.html"><strong>2</strong><span>Concepts</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/3.%20Declaring%20resources.html"><strong>3</strong><span>Declaring resources</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/4.%20Using%20resources.html"><strong>4</strong><span>Using resources</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/5.%20Overriding%20resources.html"><strong>5</strong><span>Overriding resources</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/6.%20Creating%20custom%20mappers.html"><strong>6</strong><span>Creating custom mappers</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/7.%20Writing%20plugins%20that%20use%20Resources.html"><strong>7</strong><span>Writing plugins that use Resources</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/8.%20Debugging.html"><strong>8</strong><span>Debugging</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/9.%20Configuration.html"><strong>9</strong><span>Configuration</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/10.%20Security.html"><strong>10</strong><span>Security</span></a>
                    </div>
                    
                </div>
            </div>
        </li>
        <li class="separator selected">
            <a id="ref-button" onclick="localToggle(); return false;" href="#">Quick Reference</a>
        </li>
    </ul>
</div>
<div id="header">
    <div class="images clearfix">
        
        
    </div>
    <p>HTML resource management enhancements to replace g.resource etc.</p>
</div>


<table id="colset" border="0" cellpadding="0" cellspacing="0">
    <tr>
        <td id="col1">
            <div id="main" class="corner-all">

                
                    <div class="toc-item prev-left"><a href="../guide/6.%20Creating%20custom%20mappers.html">&lt;&lt; <strong>6</strong><span>Creating custom mappers</span></a></div>
                

                <span id='toggle-col1' class="toggle">(<a href="#" onclick="localToggle(); return false;">Quick Reference</a>)</span>

                
                    <div class="toc-item next-right"><a href="../guide/8.%20Debugging.html"><strong>8</strong><span>Debugging</span> >></a></div>
                


                <div class="project">
                    <h1>7 Writing plugins that use Resources - Reference Documentation</h1>

                    <p><strong>Authors:</strong> Marc Palmer (marc@grailsrocks.com), Luke Daley (ld@ldaley.com), Peter N. Steinmetz (ndoc3@steinmetz.org)</p>

                    <p><strong>Version:</strong> 1.2</p>

                    
                </div>

                

                

<h1 id="7. Writing plugins that use Resources">7 Writing plugins that use Resources</h1>
There are generally two kinds of plugins that provide Resources artefacts; those that expose resources such as JavaScript libraries, and those that supply custom mappers e.g. to minify resources.<p class="paragraph"/><h2>Plugin dependencies</h2><p class="paragraph"/>If your plugin exposes resources, it does not need to depend on the "resources" plugin. In fact if it is intended to interoperate with applications that do <strong class="bold">not</strong> use the Resources framework, you should not depend on the "resources" plugin. Defining XXXXResources.groovy files does not require dependency on the plugin at all.<p class="paragraph"/>If you are exposing a mapper, you will need to have a dependency on the "resources" plugin so that you can reference the MapperPhase enum.<p class="paragraph"/><h2>Versioning</h2><p class="paragraph"/>When exposing resources, it is becoming a convention to ensure that your plugin has a version number that matches the version of the libraries you are exposing - with point releases or other suffixes to denote interim plugin releases where the library is the same but the plugin has changed.<p class="paragraph"/>This is important because it allows other applications that use the library you expose to specify which version of it they require, without having to mentally map the library version to yet another plugin version.<p class="paragraph"/><h2>Avoiding bloat</h2><p class="paragraph"/>It's important to remember that the dependencies introduced by a mapper plugin end up in the user's WAR deployment. Therefore mapper plugins should have minimal dependencies, and where possible focus on a specific niche of mapping - for example avoid creating something like a monolithic "minified-resources" plugin that bundles every known minifier library together.<p class="paragraph"/><h2>Naming conventions for mapper plugins</h2><p class="paragraph"/>It is recommended that developers establish sound naming conventions in the community such that it is easy for users to tell what a mapper plugin will do for them, in a way consistent with other mapper plugins of similar type.<p class="paragraph"/>For example there may be YUI and a Google CSS minifier plugins. These should be clearly named e.g:
<ul class="star">
<li>yui-css-minified-resources</li>
<li>google-css-minified-resources</li>
</ul><p class="paragraph"/>In addition the mappers must be clearly named, i.e. YuiCssMinifyResourceMapper and GoogleCssMinifyResourceMapper. Such that the user can exclude them selectively with code such as <strong class="bold">exclude:'yuicssminify'</strong>.<p class="paragraph"/>


                <div style="clear:both;margin-top:15px;"></div>
                
                    <div class="toc-item prev-left"><a href="../guide/6.%20Creating%20custom%20mappers.html">&lt;&lt; <strong>6</strong><span>Creating custom mappers</span></a></div>
                
                    <div class="toc-item next-right"><a href="../guide/8.%20Debugging.html"><strong>8</strong><span>Debugging</span> >></a></div>
                
                <div style="clear:both"></div>
            </div>
        </td>
        <td id="col2">
            <div class="local clearfix">
                <div class="local-title">
                    <a href="../guide/index.html" target="mainFrame">Quick Reference</a>
                    <span class="toggle">(<a href="#" onclick="localToggle(); return false;">hide</a>)</span>
                </div>
                <div class="menu">
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Mappers</h1><div class="menu-sub">
                        
                            
                            <div class="menu-item"><a href="../ref/Mappers/baseurl.html">baseurl</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Mappers/bundle.html">bundle</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Mappers/csspreprocessor.html">csspreprocessor</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Mappers/cssrewriter.html">cssrewriter</a>
                            </div>
                            
                            </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Tags</h1><div class="menu-sub">
                        
                            
                            <div class="menu-item"><a href="../ref/Tags/external.html">external</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/img.html">img</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/layoutResources.html">layoutResources</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/require.html">require</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/resource.html">resource</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/resourceLink.html">resourceLink</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/script.html">script</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/stash.html">stash</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/use.html">use</a>
                            </div>
                            
                            </div>
                    </div>
                    
                </div>
            </div>
        </td>
    </tr>
</table>

<div id="footer">
    
    
</div>

<script type="text/javascript" src="../js/docs.js"></script>

</body>
</html>
