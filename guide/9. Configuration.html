<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <title>9 Configuration 1.2.11</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen, print" title="Style" charset="utf-8"/>
    <link rel="stylesheet" href="../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8"/>
    <script type="text/javascript">
function addJsClass() {
    var classes = document.body.className.split(" ");
    classes.push("js");
    document.body.className = classes.join(" ");
}
    </script>
</head>

<body class="body" onload="addJsClass();">
<div id="navigation">
    <ul>
        <li>
            <div id="nav-summary" onmouseover="toggleNavSummary(false)" onmouseout="toggleNavSummary(true)">
                <a href="../guide/index.html" class="button">Table of contents</a>

                <div id="nav-summary-childs" style="display:none;">
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/1.%20Overview.html"><strong>1</strong><span>Overview</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/2.%20Concepts.html"><strong>2</strong><span>Concepts</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/3.%20Declaring%20resources.html"><strong>3</strong><span>Declaring resources</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/4.%20Using%20resources.html"><strong>4</strong><span>Using resources</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/5.%20Overriding%20resources.html"><strong>5</strong><span>Overriding resources</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/6.%20Creating%20custom%20mappers.html"><strong>6</strong><span>Creating custom mappers</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/7.%20Writing%20plugins%20that%20use%20Resources.html"><strong>7</strong><span>Writing plugins that use Resources</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/8.%20Debugging.html"><strong>8</strong><span>Debugging</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/9.%20Configuration.html"><strong>9</strong><span>Configuration</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/10.%20Security.html"><strong>10</strong><span>Security</span></a>
                    </div>
                    
                </div>
            </div>
        </li>
        <li class="separator selected">
            <a id="ref-button" onclick="localToggle(); return false;" href="#">Quick Reference</a>
        </li>
    </ul>
</div>
<div id="header">
    <div class="images clearfix">
        
        
    </div>
    <p>HTML resource management enhancements to replace g.resource etc.</p>
</div>


<table id="colset" border="0" cellpadding="0" cellspacing="0">
    <tr>
        <td id="col1">
            <div id="main" class="corner-all">

                
                    <div class="toc-item prev-left"><a href="../guide/8.%20Debugging.html">&lt;&lt; <strong>8</strong><span>Debugging</span></a></div>
                

                <span id='toggle-col1' class="toggle">(<a href="#" onclick="localToggle(); return false;">Quick Reference</a>)</span>

                
                    <div class="toc-item next-right"><a href="../guide/10.%20Security.html"><strong>10</strong><span>Security</span> >></a></div>
                


                <div class="project">
                    <h1>9 Configuration - Reference Documentation</h1>

                    <p><strong>Authors:</strong> Marc Palmer (marc@grailsrocks.com), Luke Daley (ld@ldaley.com), Peter N. Steinmetz (ndoc3@steinmetz.org)</p>

                    <p><strong>Version:</strong> 1.2.11</p>

                    
                </div>

                

                

<h1 id="9. Configuration">9 Configuration</h1>
There are various configuration options to control processing of your resources.<p class="paragraph"/>All of these config variables can of course be set per-environment.<p class="paragraph"/><h2>Setting the location of processed static resources</h2><p class="paragraph"/>By default the plugin writes processed resources to a temporary directory.<p class="paragraph"/>You can change this to a directory that exists in a reliable location and hence can be used to server resources via e.g. Apache,
by assigning a full filesystem path value to <strong class="bold">grails.resources.work.dir</strong><p class="paragraph"/><h2>Change the /static/ URI prefix: grails.resources.uri.prefix</h2><p class="paragraph"/>By default the plugin serves the modified static resources from URIs beginning with &#60;appcontext&#62;/static/.<p class="paragraph"/>You can change this by assigning a value to <strong class="bold">grails.resources.uri.prefix</strong><p class="paragraph"/><h2>Debug mode: grails.resources.debug</h2><p class="paragraph"/>Setting <strong class="bold">grails.resources.debug=true</strong> will force debug mode all the time, as if you added _debugResources=y to every request.<p class="paragraph"/><h2>Dependency-only mode: grails.resources.processing.enabled</h2><p class="paragraph"/>You can turn off resource processing completely with the trivial Config variable:<p class="paragraph"/><div class="code"><pre>grails.resources.processing.enabled = <span class="java&#45;keyword">false</span></pre></div><p class="paragraph"/>Like the _debugResources option, this will perform no processing at all. It will also not require a writable file system on the server, but obviously precludes any processing of resources.<p class="paragraph"/>You do however retain the dependency management abilities.<p class="paragraph"/><h2>Disabling specific resource mappers in different environments</h2><p class="paragraph"/>You can disable any mapper using the standard environment-specific configuration of Grails:<p class="paragraph"/><div class="code"><pre>grails.resources.mappers.bundle.enabled = <span class="java&#45;keyword">false</span>
grails.resources.mappers.hashandcache.enabled = <span class="java&#45;keyword">false</span></pre></div><p class="paragraph"/><h2>Controlling the scope of the adhoc filter: grails.resources.adhoc.patterns</h2><p class="paragraph"/>The ad-hoc resource filter is mapped using Servlet SDK filter mappings, which are more restricted that Ant patterns. You can specify folder (xxx/<strong class="bold">) or file type (</strong>.xxx) mappings only.<p class="paragraph"/>You may not want the adhoc filter, which is only used for legacy resources (which are not linked to using resource tags), to intercept everything in your application.<p class="paragraph"/>The default value is:<p class="paragraph"/><div class="code"><pre>grails.resources.adhoc.patterns = &#91;<span class="java&#45;quote">"/images/&#42;"</span>, <span class="java&#45;quote">"&#42;.css"</span>, <span class="java&#45;quote">"&#42;.js"</span>&#93;</pre></div><p class="paragraph"/><h2>Controlling the includes and excludes of the adhoc filter: grails.resources.adhoc.includes/excludes</h2><p class="paragraph"/>While the grails.resources.adhoc.patterns setting gives you coarse control over which legacy URIs are intercepted, you can get full Ant-style include/exclude patterns using the <strong class="bold">grails.resources.adhoc.includes</strong> and <strong class="bold">grails.resources.adhoc.excludes</strong> variables.<p class="paragraph"/>They both accept a list of Ant-style patterns.<p class="paragraph"/><h2>Including specific resource patterns per-mapper: grails.resources.&#60;mappername&#62;.includes</h2><p class="paragraph"/>You can control the list of matching resources on a per-mapper basis. Mappers provide sensible defaults but you may have new content types (for example a new CSS variant such as LESS) that were not known at the time the mapper was written.<p class="paragraph"/>So for example to add .less files to processing by the CSS rewriters (necessary for correct behaviour with bundle mapper):<p class="paragraph"/><div class="code"><pre>grails.resources.mappers.cssrewriter.includes = &#91;'&#42;&#42;/&#42;.css', '&#42;&#42;/&#42;.less'&#93;
grails.resources.mappers.csspreprocessor.includes = &#91;'&#42;&#42;/&#42;.css', '&#42;&#42;/&#42;.less'&#93;</pre></div><p class="paragraph"/>You can also use this to ensure that only resources under a specific folder are processed.<p class="paragraph"/>Note that the value you provide <strong class="bold">replaces</strong> the default list supplied by the mapper.<p class="paragraph"/><h2>Excluding specific resource patterns per-mapper:grails.resources.&#60;mappername&#62;.excludes</h2><p class="paragraph"/>There may be times when a mapper is processing too many files - those that may have already been processed or that may become damaged by the mapping (i.e. incompatibilities due to relative code loading by JS code). Simply add the resource names or patterns to that mapper's excludes:<p class="paragraph"/><div class="code"><pre>grails.resources.mappers.cssrewriter.excludes = &#91;'unsafe/&#42;&#42;'&#93;
grails.resources.mappers.csspreprocessor.excludes = &#91;'unsafe/&#42;&#42;'&#93;
grails.resources.mappers.bundle.excludes = &#91;'unsafe/&#42;&#42;/&#42;.css'&#93;</pre></div><p class="paragraph"/>Note that the value you provide <strong class="bold">replaces</strong> the default list supplied by the mapper.<p class="paragraph"/><h2>Excluding specific mapper all together</h2><p class="paragraph"/>You can exclude any (also custom) mapper from processing all together by using grails.resources.mappers.&#60;mappername&#62;.enabled = true | false.<p class="paragraph"/>For example:<p class="paragraph"/><div class="code"><pre>grails.resources.mappers.cssrewriter.enabled = <span class="java&#45;keyword">false</span></pre></div><p class="paragraph"/><h2>Disabling CSS rewriting: grails.resources.rewrite.css</h2><p class="paragraph"/>It is possible to turn off all CSS rewriting by setting this value to false. This is not recommended as it will usually break bundling unless all your links are relative and you don't have any mappers that move your resources relative to your CSS.



                <div style="clear:both;margin-top:15px;"></div>
                
                    <div class="toc-item prev-left"><a href="../guide/8.%20Debugging.html">&lt;&lt; <strong>8</strong><span>Debugging</span></a></div>
                
                    <div class="toc-item next-right"><a href="../guide/10.%20Security.html"><strong>10</strong><span>Security</span> >></a></div>
                
                <div style="clear:both"></div>
            </div>
        </td>
        <td id="col2">
            <div class="local clearfix">
                <div class="local-title">
                    <a href="../guide/index.html" target="mainFrame">Quick Reference</a>
                    <span class="toggle">(<a href="#" onclick="localToggle(); return false;">hide</a>)</span>
                </div>
                <div class="menu">
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Mappers</h1><div class="menu-sub">
                        
                            
                            <div class="menu-item"><a href="../ref/Mappers/baseurl.html">baseurl</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Mappers/bundle.html">bundle</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Mappers/csspreprocessor.html">csspreprocessor</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Mappers/cssrewriter.html">cssrewriter</a>
                            </div>
                            
                            </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Tags</h1><div class="menu-sub">
                        
                            
                            <div class="menu-item"><a href="../ref/Tags/external.html">external</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/img.html">img</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/layoutResources.html">layoutResources</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/require.html">require</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/resource.html">resource</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/resourceLink.html">resourceLink</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/script.html">script</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/stash.html">stash</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/style.html">style</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Tags/use.html">use</a>
                            </div>
                            
                            </div>
                    </div>
                    
                </div>
            </div>
        </td>
    </tr>
</table>

<div id="footer">
    
    
</div>

<script type="text/javascript" src="../js/docs.js"></script>

</body>
</html>
